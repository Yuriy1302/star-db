{"version":3,"sources":["components/ErrorIndicator/death-star.png","components/Header/index.js","components/Header/Header.jsx","services/swapi-service.js","components/Spinner/index.js","components/Spinner/Spinner.jsx","components/ErrorIndicator/index.js","components/ErrorIndicator/ErrorIndicator.jsx","components/RandomPlanet/RandomPlanet.jsx","components/RandomPlanet/index.js","components/ItemList/index.js","components/ItemList/ItemList.jsx","components/PersonDetails/index.js","components/PersonDetails/PersonDetails.jsx","components/ErrorButton/index.js","components/ErrorButton/ErrorButton.jsx","components/App/index.js","components/App/App.jsx","index.js"],"names":["module","exports","Header","className","href","SwapiService","_apiBase","_transformPlanet","planet","id","_extractId","name","population","rotationPeriod","rotation_period","diameter","_transformStarship","starship","model","manufacturer","costInCredits","length","crew","passengers","cargoCapacity","_transformPerson","person","gender","birthYear","birth_year","eyeColor","eye_color","url","fetch","this","res","ok","Error","status","json","getResource","results","map","item","match","Spinner","ErrorIndicator","src","icon","alt","RandomPlanet","props","swapiService","componentDidMount","updatePlanet","interval","setInterval","onError","setState","error","loading","onPlanetLoaded","Math","floor","random","getPlanet","then","catch","state","clearInterval","hasData","errorMessage","spinner","content","React","Component","PlanetView","Fragment","ItemList","getAllPeople","peopleList","renderItems","arr","key","onClick","onItemSelected","items","PersonDetails","err","onPersonLoaded","updatePerson","personId","getPerson","console","log","renderPersonView","prevProps","ErrorButton","renderError","foo","bar","App","toggleRandomPlanet","showRandomPlanet","onPersonSelected","selectedPersone","hasError","randomPlanet","ReactDOM","render","document","getElementById"],"mappings":"sGAAAA,EAAOC,QAAU,k+D,0RCEFC,G,MCEA,WACd,OACC,yBAAKC,UAAU,iBACd,4BACC,uBAAGC,KAAK,MAAR,YAED,wBAAID,UAAU,UACb,4BACC,uBAAGC,KAAK,MAAR,WAED,4BACC,uBAAGA,KAAK,MAAR,YAED,4BACC,uBAAGA,KAAK,MAAR,kB,uBClBgBC,E,4DAEpBC,SAAW,wB,KAgDXC,iBAAmB,SAACC,GACnB,MAAO,CACNC,GAAI,EAAKC,WAAWF,GACpBG,KAAMH,EAAOG,KACbC,WAAYJ,EAAOI,WACnBC,eAAgBL,EAAOM,gBACvBC,SAAUP,EAAOO,W,KAInBC,mBAAqB,SAACC,GACrB,MAAO,CACNR,GAAI,EAAKC,WAAWO,GACpBN,KAAMM,EAASN,KACfO,MAAOD,EAASC,MAChBC,aAAcF,EAASE,aACvBC,cAAeH,EAASG,cACxBC,OAAQJ,EAASI,OACjBC,KAAML,EAASK,KACfC,WAAYN,EAASM,WACrBC,cAAeP,EAASO,gB,KAI1BC,iBAAmB,SAACC,GACnB,MAAO,CACNjB,GAAI,EAAKC,WAAWgB,GACpBf,KAAMe,EAAOf,KACbgB,OAAQD,EAAOC,OACfC,UAAWF,EAAOG,WAClBC,SAAUJ,EAAOK,Y,iGA5EDC,G,uFACCC,MAAM,GAAD,OAAIC,KAAK5B,UAAT,OAAoB0B,I,WAArCG,E,QAEGC,G,sBACH,IAAIC,MAAJ,0BAA6BL,EAA7B,+BACOG,EAAIG,S,uBAGJH,EAAII,O,oTAICL,KAAKM,YAAY,Y,cAA7BL,E,yBACCA,EAAIM,QAAQC,IAAIR,KAAKT,mB,+KAGbhB,G,uFACMyB,KAAKM,YAAL,kBAA4B/B,EAA5B,M,cAAfiB,E,yBACCQ,KAAKT,iBAAiBC,I,6QAIXQ,KAAKM,YAAY,a,cAA7BL,E,yBACCA,EAAIM,QAAQC,IAAIR,KAAK3B,mB,+KAGbE,G,uFACMyB,KAAKM,YAAL,mBAA6B/B,EAA7B,M,cAAfD,E,yBACC0B,KAAK3B,iBAAiBC,I,+QAIX0B,KAAKM,YAAY,e,cAA7BL,E,yBACCA,EAAIM,QAAQC,IAAIR,KAAKlB,qB,iLAGXP,G,uFACMyB,KAAKM,YAAL,qBAA+B/B,EAA/B,M,cAAjBQ,E,yBACCiB,KAAKlB,mBAAmBC,I,wIAGrB0B,GAEV,OAAOA,EAAKX,IAAIY,MADC,iBACe,O,KC7CnBC,G,MCEC,WACZ,OACI,yBAAK1C,UAAU,6CACX,yBAAKA,UAAU,oBACX,8BACA,8BACA,6BACI,+BAEJ,6BACI,mC,wBCZL2C,ECIQ,WACnB,OACI,yBAAK3C,UAAU,mBACX,yBAAK4C,IAAKC,IAAMC,IAAI,eACpB,0BAAM9C,UAAU,QAAhB,SACA,mEAGA,0ECNN+C,G,wDAIJ,WAAYC,GAAQ,IAAD,8BACjB,cAAMA,IAHRC,aAAe,IAAI/C,EAEA,EASnBgD,kBAAoB,WAClB,EAAKC,eACL,EAAKC,SAAWC,YAAY,EAAKF,aAAc,MAX9B,EAkBnBG,QAAU,WACR,EAAKC,SAAS,CACZC,OAAO,EACPC,SAAS,KArBM,EAyBnBC,eAAiB,SAACrD,GAChB,EAAKkD,SAAS,CACZlD,SACAoD,SAAS,KA5BM,EAgCnBN,aAAe,WACb,IAAM7C,EAAKqD,KAAKC,MAAsB,GAAhBD,KAAKE,SAAgB,GAE3C,EAAKZ,aACFa,UAAUxD,GACVyD,KAAK,EAAKL,gBACVM,MAAM,EAAKV,UApCd,EAAKW,MAAQ,CACX5D,OAAQ,GACRoD,SAAS,EACTD,OAAO,GALQ,E,mEAejBU,cAAcnC,KAAKqB,Y,+BA0BX,IAAD,EAG4BrB,KAAKkC,MAAhC5D,EAHD,EAGCA,OAAQoD,EAHT,EAGSA,QAASD,EAHlB,EAGkBA,MAEnBW,IAAYV,GAAWD,GAEvBY,EAAeZ,EAAQ,kBAAC,EAAD,MAAqB,KAC5Ca,EAAUZ,EAAU,kBAAC,EAAD,MAAc,KAClCa,EAAUH,EAAU,kBAAC,EAAD,CAAY9D,OAAQA,IAAa,KAG3D,OACE,yBAAKL,UAAU,mCACZoE,EACAC,EACAC,O,GA7DkBC,IAAMC,YAmE3BC,EAAa,SAAC,GAAgB,IAAdpE,EAAa,EAAbA,OACZC,EAC6BD,EAD7BC,GAAIE,EACyBH,EADzBG,KAAMC,EACmBJ,EADnBI,WACVC,EAA6BL,EAA7BK,eAAgBE,EAAaP,EAAbO,SAExB,OACE,kBAAC,IAAM8D,SAAP,KACE,yBACE1E,UAAU,eACV4C,IAAG,8DAAyDtC,EAAzD,QACHwC,IAAI,KACN,6BACE,4BAAKtC,GACL,wBAAIR,UAAU,+BACZ,wBAAIA,UAAU,mBACZ,0BAAMA,UAAU,QAAhB,cACA,8BAAOS,IAET,wBAAIT,UAAU,mBACZ,0BAAMA,UAAU,QAAhB,mBACA,8BAAOU,EAAP,UAEF,wBAAIV,UAAU,mBACZ,0BAAMA,UAAU,QAAhB,YACA,8BAAOY,EAAP,YChGGmC,EDwGAA,EExGA4B,G,wDCWd,WAAY3B,GAAQ,IAAD,8BAClB,cAAMA,IAHPC,aAAe,IAAI/C,EAEA,EASnBgD,kBAAoB,WACnB,EAAKD,aACH2B,eACAb,MAAK,SAACc,GACN,EAAKtB,SAAS,CACbsB,kBAGDb,MAAM,EAAKV,UAjBK,EAoBnBA,QAAU,WACP,EAAKC,SAAS,CACZC,OAAO,EACPC,SAAS,KAvBK,EA2BlBqB,YAAc,SAACC,GACb,OAAOA,EAAIxC,KAAI,YAAiB,IAAfjC,EAAc,EAAdA,GAAIE,EAAU,EAAVA,KACnB,OACE,wBAAIR,UAAU,kBACVgF,IAAK1E,EACL2E,QAAS,kBAAM,EAAKjC,MAAMkC,eAAe5E,KAC/CE,OA/BJ,EAAKyD,MAAQ,CACZY,WAAY,KACZpB,SAAS,EACTD,OAAO,GALU,E,qDAuCT,IAAD,EAEsBzB,KAAKkC,MAA3BY,EAFA,EAEAA,WAGR,GALQ,EAEYrB,MAInB,OAAO,kBAAC,EAAD,MAEN,IAAKqB,EACH,OAAO,kBAAC,EAAD,MAGT,IAAMM,EAAQpD,KAAK+C,YAAYD,GAEjC,OAEC,wBAAI7E,UAAU,wBACZmF,O,GA5DkBX,cCPRY,G,wDCUb,WAAYpC,GAAQ,IAAD,8BACjB,cAAMA,IAHRC,aAAe,IAAI/C,EAEA,EAsBnBoD,QAAU,SAAC+B,GACT,EAAK9B,SAAS,CACZC,OAAO,EACPC,SAAS,KAzBM,EA6BnB6B,eAAiB,SAAC/D,GAChB,EAAKgC,SAAS,CACZhC,SACAkC,SAAS,KAhCM,EAoCnB8B,aAAe,WAAO,IAEZC,EAAa,EAAKxC,MAAlBwC,SAEHA,GAIL,EAAKvC,aACFwC,UAAUD,GACVzB,KAAK,EAAKuB,gBACVtB,OAAM,SAACqB,GAAD,OAASK,QAAQC,IAAI,+GAA2BN,OA/CxC,EAkDnBO,iBAAmB,YAAgD,IAA7CtF,EAA4C,EAA5CA,GAAIE,EAAwC,EAAxCA,KAAMgB,EAAkC,EAAlCA,OAAQC,EAA0B,EAA1BA,UAAWE,EAAe,EAAfA,SACjD,OACE,yBAAK3B,UAAU,uBACb,yBAAKA,UAAU,eACb4C,IAAG,iEAA4DtC,EAA5D,QACHwC,IAAI,cAEN,yBAAK9C,UAAU,aACb,4BAAKQ,GACL,wBAAIR,UAAU,+BACZ,wBAAIA,UAAU,mBACZ,0BAAMA,UAAU,QAAhB,UACA,8BAAOwB,IAET,wBAAIxB,UAAU,mBACZ,0BAAMA,UAAU,QAAhB,cACA,8BAAOyB,IAET,wBAAIzB,UAAU,mBACZ,0BAAMA,UAAU,QAAhB,aACA,8BAAO2B,QApEjB,EAAKsC,MAAQ,CACX1C,OAAQ,KACRkC,SAAS,EACTD,OAAO,GALQ,E,gEAUjBzB,KAAKwD,iB,yCAIYM,GACb9D,KAAKiB,MAAMwC,WAAaK,EAAUL,WACpCzD,KAAKwB,SAAS,CAAEE,SAAS,IACzB1B,KAAKwD,kB,+BAiEC,IAAD,EAC4BxD,KAAKkC,MAAhC1C,EADD,EACCA,OAAQkC,EADT,EACSA,QAASD,EADlB,EACkBA,MAEzB,OAAKzB,KAAKkC,MAAM1C,OASZiC,EACE,kBAAC,EAAD,MAEFC,EACK,kBAAC,EAAD,MAELlC,EAGF,oCAEGQ,KAAK6D,iBAAiBrE,SAL3B,EAdS,0BAAMvB,UAAU,eAAhB,mC,GA1FeuE,IAAMC,YCNnBsB,G,kNCGb7B,MAAQ,CACN8B,aAAa,G,uDAGL,IAAD,OAOP,OALAL,QAAQC,IAAI,UACR5D,KAAKkC,MAAM8B,cACbhE,KAAKiE,IAAIC,IAAM,GAIf,4BACEjG,UAAU,qCACViF,QAAS,kBAAM,EAAK1B,SAAS,CAAEwC,aAAa,MAF9C,mB,GAdmCxB,IAAMC,YCDhC0B,G,wDCcb,WAAYlD,GAAQ,IAAD,8BACjB,cAAMA,IAQRmD,mBAAqB,WACnB,EAAK5C,UAAS,YACZ,MAAO,CAAE6C,kBAD2B,EAAtBA,sBAVC,EAenBC,iBAAmB,SAAC/F,GAClB,EAAKiD,SAAS,CAAE+C,gBAAiBhG,KAdjC,EAAK2D,MAAQ,CACXmC,kBAAkB,EAClBE,gBAAiB,KACjBC,UAAU,GALK,E,gEAoBjBb,QAAQC,IAAI,qBACZ5D,KAAKwB,SAAS,CAAEgD,UAAU,M,+BAK1B,GAAIxE,KAAKkC,MAAMsC,SACb,OAAO,kBAAC,EAAD,MAGT,IAAMC,EAAezE,KAAKkC,MAAMmC,iBAC9B,kBAAC,EAAD,MACA,KAEF,OACE,yBAAKpG,UAAU,aACb,kBAAC,EAAD,MACCwG,EACD,yBAAKxG,UAAU,sBACb,4BAAQA,UAAU,uCAChBiF,QAASlD,KAAKoE,oBADhB,wBAIA,kBAAC,EAAD,OAGF,yBAAKnG,UAAU,WACb,yBAAKA,UAAU,YACb,kBAAC,EAAD,CAAUkF,eAAgBnD,KAAKsE,oBAEjC,yBAAKrG,UAAU,YACb,kBAAC,EAAD,CAAewF,SAAUzD,KAAKkC,MAAMqC,yB,GApD9B/B,IAAMC,YCPxBiC,IAASC,OACP,kBAAC,EAAD,MACAC,SAASC,eAAe,W","file":"static/js/main.8f00bf36.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABcVBMVEUAAACUMUKVNESUNUaTNEWTNEWTNUWUNEWUNEWUNEWTNEWUNEWUNEWVNEWVNESUNUeWMkOUNUWVNEWUNEWTM0aVNUSSN0mVNUaUNEWUNEWUNEWVNESSNESWLUuUNESUNEWUNEafQECUNEaUNUWXNEaUMkaUNEWVNUaVM0SUNEWUM0WdO06UM0SVM0WSNkeVNUCUNEWUNEWVNEaUNESTMUWVMkSXOEiUNEWUNUSVNUSVK0CUNEWVNEWQN0OUNEaVNESUNEWAQED/AACUNEWZM02UNEaTNUaVM0SVNUaUNEaTNESSN0mUNEWUNUaZMzOUNEWVM0WUNEWTNkWUNEWVNEaXLkaUNEWUNEWXOUKUNEWVM0WUNkWSMkeUNEWUNUWUNEWUNEWVNUSUM0aTNUaTMkSUNEaUNESUNEWUNESPMECUNEWUNkOUNEWTNESUNUaTNEWZM0CUNEWVNEaUNUWVNUWSNUSUNEWUNEWTNESUNEUAAAAeSPByAAAAeXRSTlMAH155k63H4fjr07qiiWwrLn7O45pSDh2N3vuvMRGK97AIde4sTOJqeP2pDaTaLxjIwYRPGikg7FZlDNK2F8aoegQB2wpYhzxbko4c9j4Fnn3zNNS7FsuyG/FzUT3+jF3lwm5XR2Lya3AQ+ibqU6WmFNZx6TBESqdASVNu+gAAAAFiS0dEAIgFHUgAAAAJcEhZcwAADdcAAA3XAUIom3gAAAAHdElNRQfiCRwPAQ3scZC+AAACoUlEQVRYw6WX+WPSMBTH6z11OhXva4hnFR0MdBsymGzshLmjKEMZG7svd3jmv7fJo23SJDQl35+S9/I+TV7SHIYh16nTZ86eO3+h6+Kly91XrvYY4XTt+g3EKnLz1m3V6Dt37yGR7j94qBL+6HEvkioaiHgSe4raKvqsbfzzFyhIXS/bxL8yA+NtvX4j635cJdzW23fC+L6E1yTZn0qnU/1JCaH3vSD+Q8T1Dww6xsEBMWGIj898dL3ZYc88nOWjc/mRT1x8Ier6R8dox9goByiKEjDuus0J1jNhqgAmPfcUWFLT0ykoTSkAZkqeu4wNs2To2VlcLisAPnteM4MNc1CZI+k1AwE9dpP5Bfu7MYQWiWURmnoVq0KKC/Me50vGBXzFc4MLVbvbxLIEbZZIBQ+n1mqao3ryzYn/jmv15WKxYSG0Qkyr0GSVVFbsUqS5hrVcFw2FXbBpbFqH8joupyXr2QXM1BkzTN7GJkKbGzChQYAt1pwswNIulyFJhWQQwPLZt9kp2pbFO0nc2fXZS3t0/F5JFu9M4yTn2T/w4g/2hcH0J34I/IdH4Ds6lHydBiREDczj+MlJ/NhECoDgfbg9oLCrCah0Ev+TAvyy5yMfUt2/KcAfhBqGjrQBYYfQ9APCJjHvB4SdRg4QdiHxAFjKrS0L1LDkgL8cAH6mGmOrhukB/M6tbRuEt3d1wI5KFmP4jKqwI3PPBUsBUCUta6zRORe2FABWw85tM8Ia11oA37auLsnB0gHAPdps+bupBPAOVz5RagDneOenShFAXzA6yQF7xVHXP249KyoHW0utQC/o8RAA4T2Rumh2BqCvusFDEFx1mct2sIZEfehLKMcLr/v6Dw5D+8lj6D+69J99hvbDE0vz6Uuk9/gGKT3//wOKqXrHYMfrIgAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxOC0wOS0yOFQxNTowMToxMyswMjowMIL/AEkAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTgtMDktMjhUMTU6MDE6MTMrMDI6MDDzorj1AAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAABJRU5ErkJggg==\"","import Header from './Header';\r\n\r\nexport default Header;","import React from 'react';\r\n\r\nimport './Header.css';\r\n\r\nconst Header = () => {\r\n\treturn(\r\n\t\t<div className=\"header d-flex\">\r\n\t\t\t<h3>\r\n\t\t\t\t<a href=\"!#\">Star DB</a>\r\n\t\t\t</h3>\r\n\t\t\t<ul className=\"d-flex\">\r\n\t\t\t\t<li>\r\n\t\t\t\t\t<a href=\"!#\">People</a>\r\n\t\t\t\t</li>\r\n\t\t\t\t<li>\r\n\t\t\t\t\t<a href=\"!#\">Planets</a>\r\n\t\t\t\t</li>\r\n\t\t\t\t<li>\r\n\t\t\t\t\t<a href=\"!#\">Starships</a>\r\n\t\t\t\t</li>\r\n\t\t\t</ul>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Header;","export default class SwapiService {\r\n\r\n\t_apiBase = 'https://swapi.dev/api';\r\n\r\n\tasync getResource(url) {\r\n\t\tconst res = await fetch(`${this._apiBase}${url}`);\r\n\t\t\r\n\t\tif (!res.ok) {\r\n\t\tthrow new Error(`Could not fetch ${url} \r\n\t\t\t\treceived ${res.status}`);\r\n\t\t}\r\n\r\n\t\treturn await res.json();\r\n\t}\r\n\r\n\tasync getAllPeople() {\r\n\t\tconst res = await this.getResource('/people/');\r\n\t\treturn res.results.map(this._transformPerson);\r\n\t}\r\n\r\n\tasync getPerson(id) {\r\n\t\tconst person = await this.getResource(`/people/${id}/`);\r\n\t\treturn this._transformPerson(person);\r\n\t}\r\n\r\n\tasync getAllPlanets() {\r\n\t\tconst res = await this.getResource('/planets/');\r\n\t\treturn res.results.map(this._transformPlanet);\r\n\t}\r\n\r\n\tasync getPlanet(id) {\r\n\t\tconst planet = await this.getResource(`/planets/${id}/`);\r\n\t\treturn this._transformPlanet(planet);\r\n\t}\r\n\r\n\tasync getAllStarships() {\r\n\t\tconst res = await this.getResource('/starships/');\r\n\t\treturn res.results.map(this._transformStarship);\r\n\t}\r\n\r\n\tasync getStarship(id) {\r\n\t\tconst starship = await this.getResource(`/starships/${id}/`);\r\n\t\treturn this._transformStarship(starship);\r\n\t}\r\n\r\n\t_extractId(item) {\r\n\t\tconst idRegExp = /\\/([0-9]*)\\/$/;\r\n\t\treturn item.url.match(idRegExp)[1];\r\n\t}\r\n\r\n\t_transformPlanet = (planet) => {\r\n\t\treturn {\r\n\t\t\tid: this._extractId(planet),\r\n\t\t\tname: planet.name,\r\n\t\t\tpopulation: planet.population,\r\n\t\t\trotationPeriod: planet.rotation_period,\r\n\t\t\tdiameter: planet.diameter\r\n\t\t};\r\n\t}\r\n\r\n\t_transformStarship = (starship) => {\r\n\t\treturn {\r\n\t\t\tid: this._extractId(starship),\r\n\t\t\tname: starship.name,\r\n\t\t\tmodel: starship.model,\r\n\t\t\tmanufacturer: starship.manufacturer,\r\n\t\t\tcostInCredits: starship.costInCredits,\r\n\t\t\tlength: starship.length,\r\n\t\t\tcrew: starship.crew,\r\n\t\t\tpassengers: starship.passengers,\r\n\t\t\tcargoCapacity: starship.cargoCapacity,\r\n\t\t};\r\n\t};\r\n\r\n\t_transformPerson = (person) => {\r\n\t\treturn {\r\n\t\t\tid: this._extractId(person),\r\n\t\t\tname: person.name,\r\n\t\t\tgender: person.gender,\r\n\t\t\tbirthYear: person.birth_year,\r\n\t\t\teyeColor: person.eye_color,\r\n\t\t};\r\n\t};\r\n  \r\n}","import Spinner from './Spinner';\r\n\r\nexport default Spinner;","import React from 'react';\r\n\r\nimport './Spinner.css';\r\n\r\nconst Spinner = () => {\r\n    return (\r\n        <div className=\"loadingio-spinner-double-ring-lv36kg5w42l\">\r\n            <div className=\"ldio-ul7or5jchbr\">\r\n                <div></div>\r\n                <div></div>\r\n                <div>\r\n                    <div></div>\r\n                </div>\r\n                <div>\r\n                    <div></div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Spinner;","import ErrorIndicator from './ErrorIndicator';\r\n\r\nexport default ErrorIndicator;","import React from 'react';\r\n\r\nimport './ErrorIndicator.css';\r\nimport icon from './death-star.png';\r\n\r\n\r\nconst ErrorIndicator = () => {\r\n    return (\r\n        <div className=\"error-indicator\">\r\n            <img src={icon} alt=\"error icon\" />\r\n            <span className=\"boom\">BOOM!</span>\r\n            <span>\r\n                something has gone terribly wrong\r\n            </span>\r\n            <span>\r\n                (but we already sent droids to fix it)\r\n            </span>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ErrorIndicator;","import React from 'react';\r\n\r\nimport SwapiService from '../../services/swapi-service';\r\nimport Spinner from '../Spinner';\r\nimport ErrorIndicator from '../ErrorIndicator';\r\n\r\nimport './RandomPlanet.css';\r\n\r\nclass RandomPlanet extends React.Component {\r\n\r\n  swapiService = new SwapiService();\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      planet: {},\r\n      loading: true,\r\n      error: false     \r\n    }\r\n  }\r\n\r\n  componentDidMount = () => {\r\n    this.updatePlanet();\r\n    this.interval = setInterval(this.updatePlanet, 7000);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    clearInterval(this.interval);\r\n  }\r\n\r\n  onError = () => {\r\n    this.setState({\r\n      error: true,\r\n      loading: false\r\n    })\r\n  }\r\n\r\n  onPlanetLoaded = (planet) => {\r\n    this.setState({\r\n      planet,\r\n      loading: false,\r\n    });\r\n  }\r\n\r\n  updatePlanet = () => {\r\n    const id = Math.floor(Math.random() * 16 + 2);\r\n    //const id = 120;\r\n    this.swapiService\r\n      .getPlanet(id)\r\n      .then(this.onPlanetLoaded)\r\n      .catch(this.onError);\r\n  }\r\n\r\n  render() {\r\n    \r\n\r\n    const { planet, loading, error } = this.state;\r\n    \r\n    const hasData = !(loading || error);\r\n\r\n    const errorMessage = error ? <ErrorIndicator /> : null;\r\n    const spinner = loading ? <Spinner /> : null;\r\n    const content = hasData ? <PlanetView planet={planet} /> : null;\r\n    \r\n    \r\n    return(\r\n      <div className=\"random-planet jumbotron rounded\">\r\n        {errorMessage}\r\n        {spinner}\r\n        {content}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst PlanetView = ({ planet }) => {\r\n  const { id, name, population,\r\n          rotationPeriod, diameter } = planet;\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <img\r\n        className=\"planet-image\"\r\n        src={`https://starwars-visualguide.com/assets/img/planets/${id}.jpg`}\r\n        alt=\"\" />\r\n      <div>\r\n        <h4>{name}</h4>\r\n        <ul className=\"list-group list-group-flush\">\r\n          <li className=\"list-group-item\">\r\n            <span className=\"term\">Population</span>\r\n            <span>{population}</span>\r\n          </li>\r\n          <li className=\"list-group-item\">\r\n            <span className=\"term\">Rotation Period</span>\r\n            <span>{rotationPeriod} days</span>\r\n          </li>\r\n          <li className=\"list-group-item\">\r\n            <span className=\"term\">Diameter</span>\r\n            <span>{diameter} km</span>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nexport default RandomPlanet;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n/* this.setState({\r\n  id,\r\n  name: planet.name,\r\n  population: planet.population,\r\n  rotationPeriod: planet.rotation_period,\r\n  diameter: planet.diameter\r\n}); */","import RandomPlanet from './RandomPlanet';\r\n\r\nexport default RandomPlanet;","import ItemList from './ItemList';\r\n\r\nexport default ItemList;","import React, { Component } from 'react';\r\n\r\nimport SwapiService from '../../services/swapi-service';\r\nimport Spinner from '../Spinner';\r\nimport ErrorIndicator from '../ErrorIndicator';\r\n\r\nimport './ItemList.css';\r\n\r\n\r\nclass ItemList extends Component {\r\n\r\n\tswapiService = new SwapiService();\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tpeopleList: null,\r\n\t\t\tloading: true,\r\n\t\t\terror: false,\r\n\t\t};\r\n\t};\r\n\r\n\tcomponentDidMount = () => {\r\n\t\tthis.swapiService\r\n\t\t\t.getAllPeople()\r\n\t\t\t.then((peopleList) => {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tpeopleList\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch(this.onError); //Добавить catch\r\n\t}\r\n\t\r\n\tonError = () => {\r\n    this.setState({\r\n      error: true,\r\n      loading: false\r\n    })\r\n  }\r\n  \r\n  renderItems = (arr) => {\r\n    return arr.map(({id, name}) => {\r\n      return (\r\n        <li className=\"list-group-item\"\r\n            key={id}\r\n            onClick={() => this.props.onItemSelected(id)}>\r\n\t\t\t\t\t{name}\r\n\t\t\t\t</li>\r\n      );\r\n    });\r\n  }\r\n\r\n\trender() {\r\n\r\n\t\tconst { peopleList, error } = this.state;\r\n\t\t\r\n\r\n\t\tif (error) {\r\n\t\t\treturn <ErrorIndicator />\r\n\t\t};\r\n    if (!peopleList) {\r\n      return <Spinner />\r\n    }\r\n\r\n    const items = this.renderItems(peopleList);\r\n\r\n\t\treturn(\r\n\r\n\t\t\t<ul className=\"item-list list-group\">\r\n\t\t\t\t{items}\r\n\t\t\t</ul>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default ItemList;","import PersonDetails from './PersonDetails';\r\n\r\nexport default PersonDetails;","import React from 'react';\r\n\r\nimport SwapiService from '../../services/swapi-service';\r\nimport Spinner from '../Spinner';\r\nimport ErrorIndicator from '../ErrorIndicator';\r\n\r\nimport './PersonDetails.css';\r\n\r\nclass PersonDetails extends React.Component {\r\n  \r\n  swapiService = new SwapiService();\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      person: null,\r\n      loading: true,\r\n      error: false\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.updatePerson();\r\n\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (this.props.personId !== prevProps.personId) {\r\n      this.setState({ loading: true });\r\n      this.updatePerson();\r\n    }\r\n    \r\n  }\r\n\r\n  onError = (err) => {\r\n    this.setState({\r\n      error: true,\r\n      loading: false\r\n    })\r\n  }\r\n\r\n  onPersonLoaded = (person) => {\r\n    this.setState({\r\n      person,\r\n      loading: false,\r\n    });\r\n  }\r\n\r\n  updatePerson = () => {\r\n    \r\n    const { personId } = this.props;\r\n\r\n    if (!personId) {\r\n      return;\r\n    }\r\n\r\n    this.swapiService\r\n      .getPerson(personId)\r\n      .then(this.onPersonLoaded)\r\n      .catch((err) => console.log('Возникла эта ошибка -> ', err)); //скорее всего не перехватывает ошибку\r\n  }\r\n\r\n  renderPersonView = ({ id, name, gender, birthYear, eyeColor }) => {\r\n    return (\r\n      <div className=\"person-details card\">\r\n        <img className=\"person-image\"\r\n          src={`https://starwars-visualguide.com/assets/img/characters/${id}.jpg`}\r\n          alt=\"character\" />\r\n        \r\n        <div className=\"card-body\">\r\n          <h4>{name}</h4>\r\n          <ul className=\"list-group list-group-flush\">\r\n            <li className=\"list-group-item\">\r\n              <span className=\"term\">Gender</span>\r\n              <span>{gender}</span>\r\n            </li>\r\n            <li className=\"list-group-item\">\r\n              <span className=\"term\">Birth Year</span>\r\n              <span>{birthYear}</span>\r\n            </li>\r\n            <li className=\"list-group-item\">\r\n              <span className=\"term\">Eye Color</span>\r\n              <span>{eyeColor}</span>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n  \r\n\r\n\r\n\r\n  \r\n  render() {\r\n    const { person, loading, error } = this.state;\r\n    \r\n    if (!this.state.person) {\r\n      return <span className=\"span-select\">Selected a person from list</span>\r\n    }\r\n\r\n    /* const hasData = !(loading || error);\r\n    \r\n    const errorMessage = error ? <ErrorIndicator /> : null;\r\n    const spinner = loading ? <Spinner /> : null;\r\n    const content = hasData ? this.renderPersonView(person) : null; */\r\n    if (error) {\r\n\t\t\treturn <ErrorIndicator />\r\n\t\t};\r\n    if (loading) {\r\n      return <Spinner />\r\n    }\r\n    if (person) {\r\n      \r\n    return (\r\n      <>\r\n        \r\n        {this.renderPersonView(person)}  \r\n      </>\r\n    );\r\n    }\r\n  }\r\n}\r\n\r\nexport default PersonDetails;","import ErrorButton from './ErrorButton';\r\n\r\nexport default ErrorButton;","import React from 'react';\r\nimport './ErrorButton.css';\r\n\r\nexport default class ErrorButton extends React.Component {\r\n\r\n  state = {\r\n    renderError: false\r\n  };\r\n\r\n  render() {\r\n\r\n    console.log('render');\r\n    if (this.state.renderError) {\r\n      this.foo.bar = 0;\r\n    }\r\n\r\n    return (\r\n      <button\r\n        className=\"error-button btn btn-danger btn-lg\"\r\n        onClick={() => this.setState({ renderError: true})}>\r\n        Throw Error\r\n      </button>\r\n    )\r\n\r\n\r\n  }\r\n}","import App from './App';\r\n\r\nexport default App;","import React from 'react';\r\n\r\nimport Header from '../Header';\r\nimport RandomPlanet from '../RandomPlanet';\r\nimport ItemList from '../ItemList';\r\nimport PersonDetails from '../PersonDetails';\r\nimport ErrorButton from '../ErrorButton';\r\nimport ErrorIndicator from '../ErrorIndicator';\r\n/* import PlanetDetails from '../PlanetDetails';\r\nimport StarshipDetails from '../StarshipDetails'; */\r\n\r\nimport './App.css';\r\n\r\n\r\n\r\nclass App extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      showRandomPlanet: true,\r\n      selectedPersone: null,\r\n      hasError: false,\r\n    }\r\n  }\r\n\r\n  toggleRandomPlanet = () => {\r\n    this.setState(({showRandomPlanet}) => {\r\n      return { showRandomPlanet: !showRandomPlanet};\r\n    })\r\n  }\r\n\r\n  onPersonSelected = (id) => {\r\n    this.setState({ selectedPersone: id });\r\n  }\r\n\r\n  componentDidCatch() {\r\n    console.log('componentDidCatch');\r\n    this.setState({ hasError: true });  \r\n  }\r\n\r\n  render() {\r\n\r\n    if (this.state.hasError) {\r\n      return <ErrorIndicator />\r\n    }\r\n\r\n    const randomPlanet = this.state.showRandomPlanet ?\r\n      <RandomPlanet /> :\r\n      null;\r\n\r\n    return (\r\n      <div className=\"container\">\r\n        <Header />\r\n        {randomPlanet}\r\n        <div className=\"row mb2 button-row\">\r\n          <button className=\"toggle-planet btn btn-warning btn-lg\"\r\n            onClick={this.toggleRandomPlanet}>\r\n            Toggle Random Planet\r\n          </button>\r\n          <ErrorButton />\r\n        </div>\r\n\r\n        <div className=\"row mb2\">\r\n          <div className=\"col-md-6\">\r\n            <ItemList onItemSelected={this.onPersonSelected} />\r\n          </div>\r\n          <div className=\"col-md-6\">\r\n            <PersonDetails personId={this.state.selectedPersone} />\r\n          </div>\r\n        </div>\r\n        \r\n      </div>\r\n    );\r\n  };\r\n}\r\n\r\n\r\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './components/App/';\n\n/* import './index.css'; */\n\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}